<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klikaj Kotleta!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background: #ffffff;
            padding: 20px;
            transition: background 0.3s ease, color 0.3s ease;
        }
        body.dark-mode {
            background: #1c1c1e;
            color: #ffffff;
        }
        .stats-container {
            background: #f5f5f5;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: background 0.3s ease;
        }
        body.dark-mode .stats-container {
            background: #2c2c2e;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        #score {
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
            margin: 5px 0;
            transition: transform 0.2s ease, color 0.3s ease;
        }
        #score.update {
            transform: scale(1.1);
        }
        body.dark-mode #score {
            color: #ffffff;
        }
        #level {
            font-size: 16px;
            font-weight: 500;
            color: #1a1a1a;
            margin: 5px 0;
            transition: color 0.3s ease;
        }
        body.dark-mode #level {
            color: #ffffff;
        }
        #cps {
            font-size: 14px;
            font-weight: 500;
            color: #1a1a1a;
            margin: 5px 0;
            transition: color 0.3s ease;
        }
        body.dark-mode #cps {
            color: #ffffff;
        }
        #combo {
            font-size: 14px;
            font-weight: 500;
            color: #e91e63;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #kotlet-container {
            width: 90%;
            max-width: 400px;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            background: #ffffff; /* Jednolite bia≈Çe t≈Ço w trybie jasnym */
            transition: background 0.3s ease;
        }
        body.dark-mode #kotlet-container {
            background: #1c1c1e; /* Jednolite ciemne t≈Ço w trybie ciemnym, bez gradientu */
        }
        #kotlet {
            width: 300px;
            height: 300px;
            cursor: pointer;
            position: relative;
        }
        #kotlet:active {
            transform: scale(0.95);
        }
        #kotlet.golden {
            filter: hue-rotate(90deg) brightness(1.5);
            animation: goldenPulse 1s infinite ease-in-out;
        }
        #kotlet.fever {
            filter: hue-rotate(20deg) brightness(1.3);
            animation: feverPulse 0.5s infinite ease-in-out;
        }
        #kotlet.critical {
            animation: criticalPulse 0.3s ease-in-out;
        }
        #kotlet.click {
            animation: clickPulse 0.2s ease-in-out;
        }
        #mini-kotlet {
            position: absolute;
            width: 50px;
            height: 50px;
            cursor: pointer;
            filter: hue-rotate(90deg) brightness(1.5);
            animation: miniKotletMove 5s linear forwards;
        }
        #shop-btn {
            margin-top: 20px;
            padding: 12px 40px;
            font-size: 16px;
            font-weight: 600;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: #007aff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, background 0.3s ease;
        }
        #shop-btn:hover {
            transform: scale(1.05 tailor-made);
            background: #005bb5;
        }
        body.dark-mode #shop-btn {
            background: #0a84ff;
        }
        body.dark-mode #shop-btn:hover {
            background: #007aff;
        }
        #shop-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffffff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            transition: background 0.3s ease;
        }
        body.dark-mode #shop-popup {
            background: #2c2c2e;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
        }
        #shop-popup h2 {
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
            text-align: center;
            margin-bottom: 15px;
            transition: color 0.3s ease;
        }
        body.dark-mode #shop-popup h2 {
            color: #ffffff;
        }
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        .tab-btn {
            padding: 8px 15px;
            background: #e0e0e0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.3s ease, transform 0.2s ease, color 0.3s ease;
        }
        .tab-btn.active {
            background: #007aff;
            color: white;
            transform: scale(1.05);
        }
        body.dark-mode .tab-btn {
            background: #3a3a3c;
            color: #ffffff;
        }
        body.dark-mode .tab-btn.active {
            background: #0a84ff;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .upgrade, .worker, .achievement-item {
            margin: 10px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            transition: background 0.3s ease;
        }
        body.dark-mode .upgrade, body.dark-mode .worker, body.dark-mode .achievement-item {
            background: #3a3a3c;
        }
        .upgrade p, .worker p, .achievement-item p {
            margin: 0;
            font-size: 14px;
            font-weight: 500;
            color: #1a1a1a;
            transition: color 0.3s ease;
        }
        body.dark-mode .upgrade p, body.dark-mode .worker p, body.dark-mode .achievement-item p {
            color: #ffffff;
        }
        .upgrade-btn, .worker-btn {
            padding: 6px 12px;
            background: #007aff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: transform 0.2s ease, background 0.3s ease;
        }
        .upgrade-btn:hover, .worker-btn:hover {
            transform: scale(1.05);
            background: #005bb5;
        }
        body.dark-mode .upgrade-btn, body.dark-mode .worker-btn {
            background: #0a84ff;
        }
        body.dark-mode .upgrade-btn:hover, body.dark-mode .worker-btn:hover {
            background: #007aff;
        }
        .upgrade-btn:disabled, .worker-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        body.dark-mode .upgrade-btn:disabled, body.dark-mode .worker-btn:disabled {
            background: #636366;
        }
        #close-shop {
            display: block;
            margin: 15px auto 0;
            padding: 10px 20px;
            background: #ff3b30;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.3s ease;
        }
        #close-shop:hover {
            background: #d32f2f;
        }
        body.dark-mode #close-shop {
            background: #ff453a;
        }
        body.dark-mode #close-shop:hover {
            background: #ff3b30;
        }
        #achievements {
            margin: 20px 0;
            font-size: 14px;
            font-weight: 500;
            color: #ff9500;
            text-align: center;
        }
        .achievement-notification {
            position: fixed;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: #ffffff;
            border-radius: 15px;
            padding: 10px 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            font-size: 14px;
            font-weight: 600;
            color: #1a1a1a;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 2000;
            animation: slideIn 0.5s ease-out forwards, slideOut 0.5s ease-in 3s forwards;
            transition: background 0.3s ease, color 0.3s ease;
        }
        body.dark-mode .achievement-notification {
            background: #2c2c2e;
            color: #ffffff;
        }
        .achievement-notification::before {
            content: 'üèÜ';
            font-size: 20px;
        }
        .click-particle {
            position: absolute;
            font-size: 16px;
            color: #ff6f61;
            pointer-events: none;
            animation: particleFade 0.5s ease-out forwards;
        }
        .click-wave {
            position: absolute;
            background: rgba(255, 111, 97, 0.3);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            pointer-events: none;
            animation: waveEffect 0.6s ease-out forwards;
        }
        .level-particle {
            position: absolute;
            font-size: 14px;
            color: #ffd700;
            pointer-events: none;
            animation: levelParticleFade 1s ease-out forwards;
        }
        .achievement-particle {
            position: absolute;
            font-size: 12px;
            color: #ffeb3b;
            pointer-events: none;
            animation: achievementRain 2s ease-out forwards;
        }
        .combo-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 5px solid transparent;
            border-radius: 50%;
            background: conic-gradient(#ff5722, #ff8a65, #ff5722);
            animation: comboRing 1s ease-out forwards;
        }
        .purchase-flash {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(76, 175, 80, 0.5);
            border-radius: 10px;
            animation: flashEffect 0.5s ease-out forwards;
            pointer-events: none;
        }
        footer {
            margin-top: 20px;
            font-size: 12px;
            font-weight: 500;
            color: #8e8e93;
            transition: color 0.3s ease;
        }
        body.dark-mode footer {
            color: #8e8e93;
        }
        @keyframes slideIn {
            0% { top: -100px; opacity: 0; }
            100% { top: 20px; opacity: 1; }
        }
        @keyframes slideOut {
            0% { top: 20px; opacity: 1; }
            100% { top: -100px; opacity: 0; }
        }
        @keyframes particleFade {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-30px); }
        }
        @keyframes waveEffect {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(8); opacity: 0; }
        }
        @keyframes levelParticleFade {
            0% { opacity: 1; transform: translate(0, 0); }
            100% { opacity: 0; transform: translate(var(--dx), var(--dy)); }
        }
        @keyframes achievementRain {
            0% { opacity: 1; transform: translateY(-300px); }
            100% { opacity: 0; transform: translateY(300px); }
        }
        @keyframes flashEffect {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
        @keyframes goldenPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        @keyframes feverPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes criticalPulse {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.5) hue-rotate(0deg); }
            100% { filter: brightness(1); }
        }
        @keyframes clickPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes comboRing {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.5); }
        }
        @keyframes miniKotletMove {
            0% { transform: translate(0, 0); }
            20% { transform: translate(50px, -30px); }
            40% { transform: translate(-40px, 20px); }
            60% { transform: translate(30px, 40px); }
            80% { transform: translate(-20px, -10px); }
            100% { transform: translate(0, 0); opacity: 0; }
        }

        /* Styl prze≈ÇƒÖcznika trybu ciemnego */
        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 34px;
            background: #e0e0e0;
            border-radius: 17px;
            cursor: pointer;
            display: flex;
            align-items: center;
            padding: 3px;
            transition: background 0.3s ease;
            z-index: 1000;
        }
        .dark-mode-toggle.active {
            background: #34c759;
        }
        .dark-mode-toggle .switch {
            width: 28px;
            height: 28px;
            background: #ffffff;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }
        .dark-mode-toggle.active .switch {
            transform: translateX(26px);
        }
        @media (max-width: 768px) {
            .dark-mode-toggle {
                top: 10px;
                right: 10px;
                width: 50px;
                height: 28px;
            }
            .dark-mode-toggle .switch {
                width: 24px;
                height: 24px;
            }
            .dark-mode-toggle.active .switch {
                transform: translateX(22px);
            }
        }
    </style>
</head>
<body>
    <!-- Prze≈ÇƒÖcznik trybu ciemnego -->
    <div class="dark-mode-toggle" id="darkModeToggle">
        <div class="switch"></div>
    </div>

    <div class="stats-container">
        <div id="score">Wynik: 0</div>
        <div id="level">Poziom: 1</div>
        <div id="cps">CPS: 0</div>
        <div id="combo">Combo: x1.0</div>
    </div>
    <div id="kotlet-container">
        <img id="kotlet" src="https://i.imgur.com/wxNPdh8.png" alt="Kotlet">
    </div>
    <button id="shop-btn">SKLEP</button>
    <div id="shop-popup">
        <h2>Sklep</h2>
        <div class="tabs">
            <button class="tab-btn active" data-tab="upgrades">Ulepszenia</button>
            <button class="tab-btn" data-tab="workers">Pracownicy</button>
            <button class="tab-btn" data-tab="achievements">OsiƒÖgniƒôcia</button>
        </div>
        <div id="upgrades-tab" class="tab-content active">
            <div class="upgrade" id="upgrade-multiplier">
                <p>Mno≈ºnik (Poziom 0, Koszt: 3500)</p>
                <button class="upgrade-btn" data-type="multiplier">Kup</button>
            </div>
            <div class="upgrade" id="upgrade-golden">
                <p>D≈Çu≈ºszy Z≈Çoty Kotlet (Poziom 0, Koszt: 14000)</p>
                <button class="upgrade-btn" data-type="golden">Kup</button>
            </div>
            <div class="upgrade" id="upgrade-critical">
                <p>Krytyczne Klikniƒôcia (Poziom 0, Koszt: 10500, Szansa: 5%)</p>
                <button class="upgrade-btn" data-type="critical">Kup</button>
            </div>
        </div>
        <div id="workers-tab" class="tab-content">
            <div id="workers-list"></div>
        </div>
        <div id="achievements-tab" class="tab-content">
            <div id="achievements-list"></div>
        </div>
        <button id="close-shop">Zamknij</button>
    </div>
    <div id="achievements"></div>
    <footer>Copyright ¬© 2025 KOTLET.FUN ‚Äì Wszystkie prawa zastrze≈ºone.</footer>
    
    <script>
        // Prze≈ÇƒÖcznik trybu ciemnego
        const darkModeToggle = document.getElementById('darkModeToggle');
        darkModeToggle.addEventListener('click', () => {
            darkModeToggle.classList.toggle('active');
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        });

        // Wczytaj preferencjƒô trybu ciemnego
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            darkModeToggle.classList.add('active');
        }

        let score = 0;
        let displayedScore = 0;
        let level = 1;
        let combo = 1;
        let lastClickTime = 0;
        let isGolden = false;
        let isFever = false;
        let feverCooldown = false;
        let goldenDuration = 5000;
        let clicks = 0;
        let cps = 0;
        let clickTimes = [];
        let purchaseCount = 0;
        let miniKotletCount = 0;
        let feverCount = 0;
        let workerUpgradeCount = 0;

        // D≈∫wiƒôki w formacie base64 (subtelne)
        const clickSound = new Audio('data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YSQAAAAA');
        const purchaseSound = new Audio('data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YSgAAAAA');
        const achievementSound = new Audio('data:audio/wav;base64,UklGRkQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YS0AAAAA');
        const popupSound = new Audio('data:audio/wav;base64,UklGRi4AAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YSUAAAAA');

        let upgrades = {
            multiplier: { level: 0, cost: 3500, value: 1 },
            golden: { level: 0, cost: 14000, value: 5000 },
            critical: { level: 0, cost: 10500, value: 0.05 }
        };
        let workers = [
            { name: "Pomocnik", cost: 7000, pointsPerSecond: 20, level: 0, owned: 0 },
            { name: "Kucharz", cost: 35000, pointsPerSecond: 100, level: 0, owned: 0 },
            { name: "Szef Kuchni", cost: 140000, pointsPerSecond: 500, level: 0, owned: 0 }
        ];
        let achievements = [
            { id: 1, name: "Zjad≈Ç kotleta", threshold: 1, type: "clicks", unlocked: false },
            { id: 2, name: "Pierwsze 1000 punkt√≥w", threshold: 1000, unlocked: false },
            { id: 3, name: "10 000 punkt√≥w", threshold: 10000, unlocked: false },
            { id: 4, name: "Poziom 5", threshold: 5, type: "level", unlocked: false },
            { id: 5, name: "Combo x2.0", threshold: 2.0, type: "combo", unlocked: false },
            { id: 6, name: "Kup 5 ulepsze≈Ñ", threshold: 5, type: "purchase", unlocked: false },
            { id: 7, name: "Z≈Çap 3 Z≈Çote Kotlety", threshold: 3, type: "miniKotlet", unlocked: false },
            { id: 8, name: "Zatrudnij 3 pracownik√≥w", threshold: 3, type: "worker", unlocked: false },
            { id: 9, name: "100 klikniƒôƒá", threshold: 100, type: "clicks", unlocked: false },
            { id: 10, name: "50 000 punkt√≥w", threshold: 50000, unlocked: false },
            { id: 11, name: "Ulepsz pracownika 5 razy", threshold: 5, type: "workerUpgrade", unlocked: false },
            { id: 12, name: "Aktywuj GorƒÖczkƒô Kotlet√≥w 3 razy", threshold: 3, type: "fever", unlocked: false },
            { id: 13, name: "100 000 punkt√≥w", threshold: 100000, unlocked: false },
            { id: 14, name: "Poziom 10", threshold: 10, type: "level", unlocked: false },
            { id: 15, name: "Combo x2.5", threshold: 2.5, type: "combo", unlocked: false },
            { id: 16, name: "Kup 10 ulepsze≈Ñ", threshold: 10, type: "purchase", unlocked: false },
            { id: 17, name: "Z≈Çap 10 Z≈Çotych Kotlet√≥w", threshold: 10, type: "miniKotlet", unlocked: false },
            { id: 18, name: "Zatrudnij 10 pracownik√≥w", threshold: 10, type: "worker", unlocked: false },
            { id: 19, name: "500 klikniƒôƒá", threshold: 500, type: "clicks", unlocked: false },
            { id: 20, name: "1 000 000 punkt√≥w", threshold: 1000000, unlocked: false },
            { id: 21, name: "Ulepsz pracownika 15 razy", threshold: 15, type: "workerUpgrade", unlocked: false },
            { id: 22, name: "Aktywuj GorƒÖczkƒô Kotlet√≥w 10 razy", threshold: 10, type: "fever", unlocked: false },
            { id: 23, name: "10 000 000 punkt√≥w", threshold: 10000000, unlocked: false },
            { id: 24, name: "Poziom 20", threshold: 20, type: "level", unlocked: false },
            { id: 25, name: "Combo x3.0", threshold: 3.0, type: "combo", unlocked: false },
            { id: 26, name: "Kup 20 ulepsze≈Ñ", threshold: 20, type: "purchase", unlocked: false },
            { id: 27, name: "Z≈Çap 20 Z≈Çotych Kotlet√≥w", threshold: 20, type: "miniKotlet", unlocked: false },
            { id: 28, name: "Zatrudnij 20 pracownik√≥w", threshold: 20, type: "worker", unlocked: false },
            { id: 29, name: "1000 klikniƒôƒá", threshold: 1000, type: "clicks", unlocked: false },
            { id: 30, name: "100 000 000 punkt√≥w", threshold: 100000000, unlocked: false },
            { id: 31, name: "Ulepsz pracownika 30 razy", threshold: 30, type: "workerUpgrade", unlocked: false },
            { id: 32, name: "Poziom 50", threshold: 50, type: "level", unlocked: false }
        ];

        const scoreDisplay = document.getElementById('score');
        const levelDisplay = document.getElementById('level');
        const comboDisplay = document.getElementById('combo');
        const cpsDisplay = document.getElementById('cps');
        const kotlet = document.getElementById('kotlet');
        const kotletContainer = document.getElementById('kotlet-container');
        const shopBtn = document.getElementById('shop-btn');
        const shopPopup = document.getElementById('shop-popup');
        const closeShopBtn = document.getElementById('close-shop');
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        const workersList = document.getElementById('workers-list');
        const achievementsList = document.getElementById('achievements-list');
        const achievementsContainer = document.getElementById('achievements');

        // Funkcja zapisujƒÖca postƒôp
        function saveProgress() {
            const gameState = {
                score,
                level,
                combo,
                clicks,
                cps,
                upgrades,
                workers,
                achievements,
                purchaseCount,
                miniKotletCount,
                feverCount,
                workerUpgradeCount
            };
            localStorage.setItem('kotletClickerState', JSON.stringify(gameState));
        }

        // Funkcja ≈ÇadujƒÖca postƒôp
        function loadProgress() {
            const savedState = localStorage.getItem('kotletClickerState');
            if (savedState) {
                const gameState = JSON.parse(savedState);
                score = gameState.score || 0;
                displayedScore = score;
                level = gameState.level || 1;
                combo = gameState.combo || 1;
                clicks = gameState.clicks || 0;
                cps = gameState.cps || 0;
                upgrades = gameState.upgrades || upgrades;
                workers = gameState.workers || workers;
                achievements = gameState.achievements || achievements;
                purchaseCount = gameState.purchaseCount || 0;
                miniKotletCount = gameState.miniKotletCount || 0;
                feverCount = gameState.feverCount || 0;
                workerUpgradeCount = gameState.workerUpgradeCount || 0;

                scoreDisplay.textContent = `Wynik: ${Math.round(displayedScore)}`;
                levelDisplay.textContent = `Poziom: ${level}`;
                comboDisplay.textContent = `Combo: x${combo.toFixed(1)}`;
                cpsDisplay.textContent = `CPS: ${cps}`;
            }
        }

        // Funkcja animujƒÖca zmianƒô wyniku
        function animateScore(targetScore) {
            const startScore = displayedScore;
            const duration = 500;
            const startTime = performance.now();

            function updateScore(currentTime) {
                const elapsedTime = currentTime - startTime;
                const progress = Math.min(elapsedTime / duration, 1);
                const easeProgress = progress * (2 - progress);
                displayedScore = Math.round(startScore + (targetScore - startScore) * easeProgress);
                scoreDisplay.textContent = `Wynik: ${displayedScore}`;
                scoreDisplay.classList.add('update');

                if (progress < 1) {
                    requestAnimationFrame(updateScore);
                } else {
                    displayedScore = targetScore;
                    scoreDisplay.textContent = `Wynik: ${displayedScore}`;
                }
            }

            requestAnimationFrame(updateScore);
        }

        // Funkcja obliczajƒÖca pr√≥g punktowy dla kolejnego poziomu
        function getLevelThreshold(currentLevel) {
            return Math.round(1000 * Math.pow(1.8, currentLevel - 1));
        }

        // Funkcja obliczajƒÖca mno≈ºnik punktowy
        function getPointsMultiplier() {
            const levelMultiplier = 1 + (level - 1) * 0.2;
            const upgradeMultiplier = upgrades.multiplier.value;
            const clickMultiplier = 1 + clicks * 0.001;
            const feverMultiplier = isFever ? 3 : 1;
            return levelMultiplier * upgradeMultiplier * clickMultiplier * feverMultiplier;
        }

        // Funkcja obliczajƒÖca punkty za klikniƒôcie
        function getPointsPerClick() {
            const basePoints = 1;
            const multiplier = getPointsMultiplier();
            const criticalChance = upgrades.critical.value;
            const isCritical = Math.random() < criticalChance;
            const criticalMultiplier = isCritical ? 2 : 1;
            return Math.round(basePoints * multiplier * combo * (isGolden ? 5 : 1) * criticalMultiplier);
        }

        // Funkcja sprawdzajƒÖca awans na kolejny poziom
        function checkLevelUp() {
            const threshold = getLevelThreshold(level);
            if (score >= threshold) {
                level++;
                levelDisplay.textContent = `Poziom: ${level}`;
                createLevelParticles();
                checkAchievements();
            }
        }

        // Funkcja uruchamiajƒÖca z≈Çoty kotlet
        function triggerGoldenKotlet() {
            if (score % 10000 === 0 && score > 0 && !isGolden) {
                isGolden = true;
                kotlet.classList.add('golden');
                setTimeout(() => {
                    isGolden = false;
                    kotlet.classList.remove('golden');
                }, goldenDuration);
            }
        }

        // Funkcja uruchamiajƒÖca minigrƒô "≈Åap Z≈Çote Kotlety"
        function triggerMiniKotlet() {
            if (score % 20000 === 0 && score > 0) {
                const miniKotlet = document.createElement('img');
                miniKotlet.id = 'mini-kotlet';
                miniKotlet.src = 'https://i.imgur.com/wxNPdh8.png';
                miniKotlet.style.left = `${Math.random() * (kotletContainer.offsetWidth - 50)}px`;
                miniKotlet.style.top = `${Math.random() * (kotletContainer.offsetHeight - 50)}px`;
                kotletContainer.appendChild(miniKotlet);

                miniKotlet.addEventListener('click', () => {
                    score += 5000;
                    upgrades.critical.value += 0.01;
                    animateScore(score);
                    miniKotletCount++;
                    miniKotlet.remove();
                    checkAchievements();
                });

                setTimeout(() => {
                    if (miniKotlet.parentElement) {
                        miniKotlet.remove();
                    }
                }, 5000);
            }
        }

        // Funkcja uruchamiajƒÖca tryb "GorƒÖczka Kotlet√≥w"
        function triggerFeverMode() {
            if (combo >= 2 && !isFever && !feverCooldown) {
                isFever = true;
                kotlet.classList.add('fever');
                feverCount++;
                checkAchievements();

                setTimeout(() => {
                    isFever = false;
                    kotlet.classList.remove('fever');
                    feverCooldown = true;

                    setTimeout(() => {
                        feverCooldown = false;
                    }, 20000);
                }, 10000);
            }
        }

        // Funkcja obliczajƒÖca CPS
        function updateCPS() {
            const now = Date.now();
            clickTimes = clickTimes.filter(time => now - time < 1000);
            let totalCPS = clickTimes.length;
            workers.forEach(worker => {
                totalCPS += worker.owned * worker.pointsPerSecond;
            });
            cps = totalCPS;
            cpsDisplay.textContent = `CPS: ${cps}`;
        }

        // Funkcja tworzƒÖca czƒÖsteczki przy klikniƒôciu
        function createClickParticle(x, y, points) {
            const particle = document.createElement('div');
            particle.className = 'click-particle';
            particle.textContent = `+${points}`;
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            kotletContainer.appendChild(particle);
            setTimeout(() => particle.remove(), 500);
        }

        // Funkcja tworzƒÖca falƒô przy klikniƒôciu
        function createClickWave(x, y) {
            const wave = document.createElement('div');
            wave.className = 'click-wave';
            wave.style.left = `${x - 10}px`;
            wave.style.top = `${y - 10}px`;
            kotletContainer.appendChild(wave);
            setTimeout(() => wave.remove(), 600);
        }

        // Funkcja tworzƒÖca pier≈õcie≈Ñ combo
        function createComboRing() {
            const ring = document.createElement('div');
            ring.className = 'combo-ring';
            kotlet.appendChild(ring);
            setTimeout(() => ring.remove(), 1000);
        }

        // Funkcja tworzƒÖca czƒÖsteczki przy awansie na poziom
        function createLevelParticles() {
            const kotletRect = kotlet.getBoundingClientRect();
            const containerRect = kotletContainer.getBoundingClientRect();
            const centerX = kotletRect.left - containerRect.left + kotletRect.width / 2;
            const centerY = kotletRect.top - containerRect.top + kotletRect.height / 2;

            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'level-particle';
                particle.textContent = '‚òÖ';
                particle.style.left = `${centerX}px`;
                particle.style.top = `${centerY}px`;
                const angle = Math.random() * 2 * Math.PI;
                const distance = 50 + Math.random() * 50;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                particle.style.setProperty('--dx', `${dx}px`);
                particle.style.setProperty('--dy', `${dy}px`);
                kotletContainer.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
        }

        // Funkcja tworzƒÖca deszcz punkt√≥w przy osiƒÖgniƒôciu
        function createAchievementRain() {
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'achievement-particle';
                particle.textContent = '‚ú®';
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `-${Math.random() * 100}px`;
                kotletContainer.appendChild(particle);
                setTimeout(() => particle.remove(), 2000);
            }
        }

        // Funkcja zarzƒÖdzajƒÖca combo
        function updateCombo(currentTime) {
            const timeDiff = currentTime - lastClickTime;
            if (timeDiff < 500) {
                combo = Math.min(combo + 0.1, 3);
            } else {
                combo = 1;
            }
            lastClickTime = currentTime;
            comboDisplay.textContent = `Combo: x${combo.toFixed(1)}`;
            comboDisplay.style.opacity = combo > 1 ? 1 : 0;
            if (combo >= 2) {
                createComboRing();
                triggerFeverMode();
            }
            checkAchievements();
        }

        // Funkcja aktualizujƒÖca ulepszenia w popupie
        function updateUpgrades() {
            document.getElementById('upgrade-multiplier').querySelector('p').textContent = `Mno≈ºnik (Poziom ${upgrades.multiplier.level}, Koszt: ${upgrades.multiplier.cost})`;
            document.getElementById('upgrade-golden').querySelector('p').textContent = `D≈Çu≈ºszy Z≈Çoty Kotlet (Poziom ${upgrades.golden.level}, Koszt: ${upgrades.golden.cost})`;
            document.getElementById('upgrade-critical').querySelector('p').textContent = `Krytyczne Klikniƒôcia (Poziom ${upgrades.critical.level}, Koszt: ${upgrades.critical.cost}, Szansa: ${(upgrades.critical.value * 100).toFixed(0)}%)`;

            document.querySelector('#upgrade-multiplier .upgrade-btn').disabled = score < upgrades.multiplier.cost;
            document.querySelector('#upgrade-golden .upgrade-btn').disabled = score < upgrades.golden.cost;
            document.querySelector('#upgrade-critical .upgrade-btn').disabled = score < upgrades.critical.cost;
        }

        // Funkcja zakupu ulepszenia
        function buyUpgrade(type) {
            const upgrade = upgrades[type];
            if (score >= upgrade.cost) {
                score -= upgrade.cost;
                upgrade.level++;
                if (type === 'multiplier') {
                    upgrade.value += 0.1;
                    upgrade.cost = Math.round(upgrade.cost * 1.5);
                } else if (type === 'golden') {
                    upgrade.value += 1000;
                    goldenDuration = upgrade.value;
                    upgrade.cost = Math.round(upgrade.cost * 1.5);
                } else if (type === 'critical') {
                    upgrade.value += 0.05;
                    upgrade.cost = Math.round(upgrade.cost * 1.5);
                }
                animateScore(score);
                purchaseCount++;
                updateUpgrades();
                updateWorkersPopup();
                checkAchievements();

                const upgradeDiv = document.getElementById(`upgrade-${type}`);
                const flash = document.createElement('div');
                flash.className = 'purchase-flash';
                upgradeDiv.appendChild(flash);
                purchaseSound.play();
                saveProgress();
            }
        }

        // Funkcja aktualizujƒÖca popup pracownik√≥w
        function updateWorkersPopup() {
            workersList.innerHTML = '';
            workers.forEach((worker, index) => {
                const workerDiv = document.createElement('div');
                workerDiv.className = 'worker';
                workerDiv.innerHTML = `
                    <p>${worker.name} (Posiadanych: ${worker.owned}, Punkty/s: ${worker.pointsPerSecond})</p>
                    <button class="worker-btn" data-index="${index}" data-action="buy">Kup (${worker.cost})</button>
                    <button class="worker-btn" data-index="${index}" data-action="upgrade">Ulepsz (${Math.round(worker.cost * 0.5)})</button>
                `;
                workersList.appendChild(workerDiv);
            });

            const buyButtons = document.querySelectorAll('.worker-btn[data-action="buy"]');
            const upgradeButtons = document.querySelectorAll('.worker-btn[data-action="upgrade"]');

            buyButtons.forEach(btn => {
                const index = btn.getAttribute('data-index');
                btn.disabled = score < workers[index].cost;
            });

            upgradeButtons.forEach(btn => {
                const index = btn.getAttribute('data-index');
                btn.disabled = score < Math.round(workers[index].cost * 0.5) || workers[index].owned === 0;
            });
        }

        // Funkcja aktualizujƒÖca popup osiƒÖgniƒôƒá
        function updateAchievementsPopup() {
            achievementsList.innerHTML = '';
            achievements.forEach(achievement => {
                const achievementDiv = document.createElement('div');
                achievementDiv.className = 'achievement-item';
                achievementDiv.innerHTML = `
                    <p>${achievement.name} ${achievement.unlocked ? '‚úÖ' : 'üîí'}</p>
                `;
                achievementsList.appendChild(achievementDiv);
            });
        }

        // Funkcja zakupu pracownika
        function buyWorker(index) {
            const worker = workers[index];
            if (score >= worker.cost) {
                score -= worker.cost;
                worker.owned++;
                worker.cost = Math.round(worker.cost * 1.5);
                animateScore(score);
                purchaseCount++;
                updateWorkersPopup();
                updateUpgrades();
                checkAchievements();

                const workerDiv = workersList.children[index];
                const flash = document.createElement('div');
                flash.className = 'purchase-flash';
                workerDiv.appendChild(flash);
                purchaseSound.play();
                saveProgress();
            }
        }

        // Funkcja ulepszania pracownika
        function upgradeWorker(index) {
            const worker = workers[index];
            const upgradeCost = Math.round(worker.cost * 0.5);
            if (score >= upgradeCost && worker.owned > 0) {
                score -= upgradeCost;
                worker.level++;
                worker.pointsPerSecond += 10;
                workerUpgradeCount++;
                animateScore(score);
                updateWorkersPopup();
                updateUpgrades();
                checkAchievements();

                const workerDiv = workersList.children[index];
                const flash = document.createElement('div');
                flash.className = 'purchase-flash';
                workerDiv.appendChild(flash);
                purchaseSound.play();
                saveProgress();
            }
        }

        // Funkcja automatycznego dodawania punkt√≥w przez pracownik√≥w
        function autoClick() {
            workers.forEach(worker => {
                if (worker.owned > 0) {
                    score += worker.owned * worker.pointsPerSecond;
                    animateScore(score);
                    checkLevelUp();
                    triggerGoldenKotlet();
                    triggerMiniKotlet();
                    updateUpgrades();
                    updateWorkersPopup();
                    checkAchievements();
                }
            });
            saveProgress();
        }

        // Funkcja sprawdzajƒÖca osiƒÖgniƒôcia
        function checkAchievements() {
            achievements.forEach(achievement => {
                if (!achievement.unlocked) {
                    if (achievement.type === 'level' && level >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'combo' && combo >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'worker' && workers.reduce((sum, worker) => sum + worker.owned, 0) >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'fever' && feverCount >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'miniKotlet' && miniKotletCount >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'clicks' && clicks >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'purchase' && purchaseCount >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (achievement.type === 'workerUpgrade' && workerUpgradeCount >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    } else if (!achievement.type && score >= achievement.threshold) {
                        achievement.unlocked = true;
                        displayAchievement(achievement);
                    }
                }
            });
            updateAchievementsPopup();
        }

        // Funkcja wy≈õwietlajƒÖca osiƒÖgniƒôcie
        function displayAchievement(achievement) {
            const notification = document.createElement('div');
            notification.className = 'achievement-notification';
            notification.textContent = `OsiƒÖgniƒôcie: ${achievement.name}!`;
            document.body.appendChild(notification);
            createAchievementRain();
            achievementSound.play();
            setTimeout(() => notification.remove(), 4000);
        }

        // Obs≈Çuga klikniƒôƒá w kotleta
        kotlet.addEventListener('click', (event) => {
            const currentTime = Date.now();
            clicks++;
            clickTimes.push(currentTime);
            updateCPS();
            updateCombo(currentTime);

            const points = getPointsPerClick();
            score += points;
            animateScore(score);

            const rect = kotletContainer.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            createClickParticle(x, y, points);
            createClickWave(x, y);
            kotlet.classList.add('click');
            if (Math.random() < upgrades.critical.value) {
                kotlet.classList.add('critical');
            }
            checkLevelUp();
            triggerGoldenKotlet();
            triggerMiniKotlet();
            updateUpgrades();
            updateWorkersPopup();
            checkAchievements();
            clickSound.play();
            saveProgress();
        });

        // Obs≈Çuga popupu sklepu
        shopBtn.addEventListener('click', () => {
            shopPopup.style.display = 'block';
            updateUpgrades();
            updateWorkersPopup();
            updateAchievementsPopup();
            popupSound.play();
        });

        closeShopBtn.addEventListener('click', () => {
            shopPopup.style.display = 'none';
            popupSound.play();
        });

        // Obs≈Çuga zak≈Çadek w popupie
        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const tab = btn.getAttribute('data-tab');
                tabButtons.forEach(b => b.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(`${tab}-tab`).classList.add('active');
            });
        });

        // Obs≈Çuga ulepsze≈Ñ w popupie
        document.getElementById('upgrades-tab').addEventListener('click', (event) => {
            if (event.target.classList.contains('upgrade-btn')) {
                const type = event.target.getAttribute('data-type');
                buyUpgrade(type);
            }
        });

        // Obs≈Çuga pracownik√≥w w popupie
        workersList.addEventListener('click', (event) => {
            if (event.target.classList.contains('worker-btn')) {
                const index = event.target.getAttribute('data-index');
                const action = event.target.getAttribute('data-action');
                if (action === 'buy') {
                    buyWorker(index);
                } else if (action === 'upgrade') {
                    upgradeWorker(index);
                }
            }
        });

        // Automatyczne dodawanie punkt√≥w przez pracownik√≥w co sekundƒô
        setInterval(autoClick, 1000);

        // Inicjalizacja
        loadProgress();
        updateUpgrades();
        updateWorkersPopup();
        updateAchievementsPopup();
    </script>
</body>
</html>
    </script>
</body>
</html>
    </script>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twoja Strona</title>
    <!-- Dodaj styl popupu -->
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        .dock-popup {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        .dock-menu {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 0;
            padding: 0;
        }
        .dock-menu a {
            color: #333;
            text-decoration: none;
            font-family: "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            font-size: 14px;
            padding: 8px 15px;
            background-color: rgba(240, 240, 240, 0.8);
            border-radius: 15px;
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .dock-menu a:hover {
            transform: scale(1.1);
            background-color: rgba(200, 200, 200, 0.9);
        }
        @media (max-width: 768px) {
            .dock-menu {
                gap: 10px;
                padding: 5px;
            }
            .dock-menu a {
                font-size: 12px;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Twoja tre≈õƒá -->
    <div style="text-align: center;">
       
    </div>

    <!-- Dodaj popup -->
    <div class="dock-popup">
        <div class="dock-menu">
            <a href="index.html">CLICKER</a>
            <a href="menugier.html">GRY</a>
            <a href="discord.html">DISCORD</a>
            <a href="leaderboard.html">TOPKA</a>
            <a href="zasady.html">ZASADY</a>
        </div>
    </div>
</body>
</html>
